{"version":3,"sources":["../monaco-syntax-highlighter.1b815cbe51fb83a67fef.worker.js","../webpack/bootstrap 1b815cbe51fb83a67fef","features/editor/workers/syntaxHighlighter.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","bDrG","_toConsumableArray","arr","Array","isArray","arr2","length","from","getLineNumberAndOffset","start","lines","line","offset","flattenTagToken","token","content","type","concat","slice","result","t","shift","test","push","assign","apply","findIndex","flattenTokens","tokens","reduce","prev","self","Prism","disableWorkerMessageHandler","importScripts","addEventListener","event","code","data","tokenize","languages","jsx","env","grammar","language","hooks","run","classifications","pos","split","map","forEach","_getLineNumberAndOffs","startOffset","startLine","_getLineNumberAndOffs2","endOffset","endLine","kind","end","postMessage","e","console","log"],"mappings":"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","file":"monaco-syntax-highlighter.1b815cbe51fb83a67fef.worker.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"bDrG\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"bDrG\":\n/***/ (function(module, exports) {\n\nfunction _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}/* eslint no-restricted-globals: 0, prefer-spread: 0, no-continue: 0, no-use-before-define: 0 *//* global self, babylon */self.Prism={disableWorkerMessageHandler:true};self.importScripts(['/static/libs/prism-1.15.0.js']);function getLineNumberAndOffset(start,lines){var line=0;var offset=0;while(offset+lines[line]<start){offset+=lines[line]+1;line+=1;}return{line:line+1,offset:offset};}function tagType(token){try{if(token.content[0].content[0].content==='</')return'end';}catch(e){}var last=token.content[token.content.length-1];if(last.content==='>')return'start';if(last.content==='/>')return'self-close';return null;}function findEndTagIndex(startIndex,tokens){var depth=1;for(var i=startIndex;i<tokens.length;i+=1){if(tokens[i].type!=='tag')continue;var tt=tagType(tokens[i]);if(tt==='start')depth+=1;if(tt==='end')depth-=1;if(depth===0)return i;}return startIndex;}function findJsxText(tokens,startIndex){var jsxDepth=0;var jsxExpDepth=0;var jsxTextToken=null;var result=[];for(var i=startIndex;i<tokens.length;i++){var t=tokens[i];if(t.type==='tag'){var tt=tagType(t);if(tt==='start'){if(jsxDepth>0){// Find jsx text in sub tag\nresult=[].concat(_toConsumableArray(result),_toConsumableArray(findJsxText(tokens,i)));jsxTextToken={content:'',type:'jsx-text',length:0};result.push(jsxTextToken);i=findEndTagIndex(i+1,tokens);continue;// eslint-disable-line\n}var tagTokens=flattenTagToken(t);// flatten tokens for a tag\nresult=[].concat(_toConsumableArray(result),_toConsumableArray(tagTokens));jsxDepth+=1;jsxTextToken={content:'',type:'jsx-text',length:0};result.push(jsxTextToken);}if(tt==='end'){var _tagTokens=flattenTagToken(t);// flatten tokens for a tag\nresult=[].concat(_toConsumableArray(result),_toConsumableArray(_tagTokens));jsxDepth-=1;if(jsxDepth<0)jsxDepth=0;if(jsxDepth===0)jsxTextToken=null;else{jsxTextToken={content:'',type:'jsx-text',length:0};result.push(jsxTextToken);}if(startIndex>0)return result;}if(tt==='self-close'){var _tagTokens2=flattenTagToken(t);// flatten tokens for a tag\nresult=[].concat(_toConsumableArray(result),_toConsumableArray(_tagTokens2));if(jsxDepth>0){jsxTextToken={content:'',type:'jsx-text',length:0};result.push(jsxTextToken);}}continue;// eslint-disable-line\n}// Find jsx expression\nif(t.content==='{'){jsxExpDepth+=1;if(jsxExpDepth===1){result.push(Object.assign({},t,{type:'jsx-exp-start'}));jsxTextToken=null;continue;// eslint-disable-line\n}}if(t.content==='}'&&jsxExpDepth>0){jsxExpDepth-=1;if(jsxExpDepth<0){jsxExpDepth=0;}if(jsxExpDepth===0){result.push(Object.assign({},t,{type:'jsx-exp-end'}));if(jsxDepth>0){jsxTextToken={content:'',type:'jsx-text',length:0};result.push(jsxTextToken);}continue;// eslint-disable-line\n}}if(jsxTextToken){jsxTextToken.length+=t.length;jsxTextToken.content+=typeof t==='string'?t:t.content;}else{result.push(t);}}return result;}function flattenTagToken(token){if(!Array.isArray(token.content))return[token];var isEndTag=token.content[0].content[0].content==='</';if(isEndTag){return[{type:'end-tag-start',content:'</',length:2},{type:'end-tag-name',content:token.content[0].content[1],length:token.content[0].content[1].length}].concat(_toConsumableArray(token.content.slice(1,token.content.length-1)),[{type:'end-tag-end',content:'>',length:1}]);}var arr=[].concat(_toConsumableArray(token.content));var result=[];while(arr.length){var t=arr.shift();if(/attr-name|attr-value/.test(t.type))result.push(t);else if(/spread/.test(t.type)){result.push(Object.assign({},t.content[0],{type:'jsx-exp-start'}));result.push.apply(result,t.content.slice(1,t.content.length-1));result.push(Object.assign({},t.content[t.content.length-1],{type:'jsx-exp-end'}));}else if(t.type==='script'){var i=t.content.findIndex(function(c){return c.content==='{';});result.push.apply(result,[].concat(_toConsumableArray(t.content.slice(0,i)),[Object.assign({},t.content[i],{type:'jsx-exp-start'})],_toConsumableArray(t.content.slice(i+1,t.content.length-1)),[// ...findJsxText(t.content.slice(i + 1, t.content.length - 1), 0),\nObject.assign({},t.content[t.content.length-1],{type:'jsx-exp-end'})]));}else if(Array.isArray(t.content))arr=[].concat(_toConsumableArray(t.content),_toConsumableArray(arr));else result.push(t);}result[0].type='tag-start';result[1]={type:'start-tag-name',length:result[1].length,content:result[1]};result[result.length-1].type='tag-end';return result;}function flattenTokens(tokens){return tokens.reduce(function(prev,token){if(token.type==='tag')prev.push.apply(prev,flattenTagToken(token));else prev.push(token);return prev;},[]);}// Respond to message from parent thread\nself.addEventListener('message',function(event){var code=event.data.code;try{var tokens=Prism.tokenize(code,Prism.languages.jsx);var env={code:code,grammar:Prism.languages.jsx,language:'jsx',tokens:tokens};Prism.hooks.run('after-tokenize',env);tokens=flattenTokens(tokens);var classifications=[];var pos=0;var lines=code.split('\\n').map(function(line){return line.length;});tokens.forEach(function(token){if(typeof token==='string'){if(token==='console'){token={content:'console',type:'globals',length:7};}else{pos+=token.length;return;}}var _getLineNumberAndOffs=getLineNumberAndOffset(pos,lines),startOffset=_getLineNumberAndOffs.offset,startLine=_getLineNumberAndOffs.line;var _getLineNumberAndOffs2=getLineNumberAndOffset(pos+token.length,lines),endOffset=_getLineNumberAndOffs2.offset,endLine=_getLineNumberAndOffs2.line;var kind=token.type;if(kind==='keyword')kind=token.content+'-keyword';if(token.content==='constructor'&&token.type==='function')kind='constructor-keyword';if(token.content==='=>')kind='arrow-operator';classifications.push({start:pos+1-startOffset,end:pos+1+token.length-endOffset,kind:kind,startLine:startLine,endLine:endLine});pos+=token.length;});self.postMessage({classifications:classifications});}catch(e){/* Ignore error */console.log('exp:',e);}});\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// monaco-syntax-highlighter.1b815cbe51fb83a67fef.worker.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"bDrG\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1b815cbe51fb83a67fef","/* eslint no-restricted-globals: 0, prefer-spread: 0, no-continue: 0, no-use-before-define: 0 */\n/* global self, babylon */\nself.Prism = { disableWorkerMessageHandler: true };\nself.importScripts(['/static/libs/prism-1.15.0.js']);\n\nfunction getLineNumberAndOffset(start, lines) {\n  let line = 0;\n  let offset = 0;\n  while (offset + lines[line] < start) {\n    offset += lines[line] + 1;\n    line += 1;\n  }\n\n  return { line: line + 1, offset };\n}\n\nfunction tagType(token) {\n  try {\n    if (token.content[0].content[0].content === '</') return 'end';\n  } catch (e) {}\n\n  const last = token.content[token.content.length - 1];\n  if (last.content === '>') return 'start';\n  if (last.content === '/>') return 'self-close';\n  return null;\n}\n\nfunction findEndTagIndex(startIndex, tokens) {\n  let depth = 1;\n  for (let i = startIndex; i < tokens.length; i += 1) {\n    if (tokens[i].type !== 'tag') continue;\n    const tt = tagType(tokens[i]);\n    if (tt === 'start') depth += 1;\n    if (tt === 'end') depth -= 1;\n    if (depth === 0) return i;\n  }\n\n  return startIndex;\n}\n\nfunction findJsxText(tokens, startIndex) {\n  let jsxDepth = 0;\n  let jsxExpDepth = 0;\n  let jsxTextToken = null;\n  let result = [];\n  for (let i = startIndex; i < tokens.length; i++) {\n    const t = tokens[i];\n    if (t.type === 'tag') {\n      const tt = tagType(t);\n      if (tt === 'start') {\n        if (jsxDepth > 0) {\n          // Find jsx text in sub tag\n          result = [...result, ...findJsxText(tokens, i)];\n          jsxTextToken = { content: '', type: 'jsx-text', length: 0 };\n          result.push(jsxTextToken);\n          i = findEndTagIndex(i + 1, tokens);\n          continue; // eslint-disable-line\n        }\n        const tagTokens = flattenTagToken(t); // flatten tokens for a tag\n        result = [...result, ...tagTokens];\n        jsxDepth += 1;\n        jsxTextToken = { content: '', type: 'jsx-text', length: 0 };\n        result.push(jsxTextToken);\n      }\n      if (tt === 'end') {\n        const tagTokens = flattenTagToken(t); // flatten tokens for a tag\n        result = [...result, ...tagTokens];\n        jsxDepth -= 1;\n        if (jsxDepth < 0) jsxDepth = 0;\n\n        if (jsxDepth === 0) jsxTextToken = null;\n        else {\n          jsxTextToken = { content: '', type: 'jsx-text', length: 0 };\n          result.push(jsxTextToken);\n        }\n        if (startIndex > 0) return result;\n      }\n      if (tt === 'self-close') {\n        const tagTokens = flattenTagToken(t); // flatten tokens for a tag\n        result = [...result, ...tagTokens];\n        if (jsxDepth > 0) {\n          jsxTextToken = { content: '', type: 'jsx-text', length: 0 };\n          result.push(jsxTextToken);\n        }\n      }\n      continue; // eslint-disable-line\n    }\n\n    // Find jsx expression\n    if (t.content === '{') {\n      jsxExpDepth += 1;\n      if (jsxExpDepth === 1) {\n        result.push({\n          ...t,\n          type: 'jsx-exp-start',\n        });\n        jsxTextToken = null;\n        continue; // eslint-disable-line\n      }\n    }\n\n    if (t.content === '}' && jsxExpDepth > 0) {\n      jsxExpDepth -= 1;\n      if (jsxExpDepth < 0) {\n        jsxExpDepth = 0;\n      }\n      if (jsxExpDepth === 0) {\n        result.push({\n          ...t,\n          type: 'jsx-exp-end',\n        });\n\n        if (jsxDepth > 0) {\n          jsxTextToken = { content: '', type: 'jsx-text', length: 0 };\n          result.push(jsxTextToken);\n        }\n        continue; // eslint-disable-line\n      }\n    }\n\n    if (jsxTextToken) {\n      jsxTextToken.length += t.length;\n      jsxTextToken.content += typeof t === 'string' ? t : t.content;\n    } else {\n      result.push(t);\n    }\n  }\n  return result;\n}\n\nfunction flattenTagToken(token) {\n  if (!Array.isArray(token.content)) return [token];\n\n  const isEndTag = token.content[0].content[0].content === '</';\n  if (isEndTag) {\n    return [\n      {\n        type: 'end-tag-start',\n        content: '</',\n        length: 2,\n      },\n      {\n        type: 'end-tag-name',\n        content: token.content[0].content[1],\n        length: token.content[0].content[1].length,\n      },\n      ...token.content.slice(1, token.content.length - 1),\n      {\n        type: 'end-tag-end',\n        content: '>',\n        length: 1,\n      },\n    ];\n  }\n\n  let arr = [...token.content];\n  const result = [];\n  while (arr.length) {\n    const t = arr.shift();\n    if (/attr-name|attr-value/.test(t.type)) result.push(t);\n    else if (/spread/.test(t.type)) {\n      result.push({\n        ...t.content[0],\n        type: 'jsx-exp-start',\n      });\n      result.push.apply(result, t.content.slice(1, t.content.length - 1));\n      result.push({\n        ...t.content[t.content.length - 1],\n        type: 'jsx-exp-end',\n      });\n    } else if (t.type === 'script') {\n      const i = t.content.findIndex(c => c.content === '{');\n      result.push.apply(result, [\n        ...t.content.slice(0, i),\n        {\n          ...t.content[i],\n          type: 'jsx-exp-start',\n        },\n        ...t.content.slice(i + 1, t.content.length - 1),\n        // ...findJsxText(t.content.slice(i + 1, t.content.length - 1), 0),\n        {\n          ...t.content[t.content.length - 1],\n          type: 'jsx-exp-end',\n        },\n      ]);\n    } else if (Array.isArray(t.content)) arr = [...t.content, ...arr];\n    else result.push(t);\n  }\n  result[0].type = 'tag-start';\n  result[1] = {\n    type: 'start-tag-name',\n    length: result[1].length,\n    content: result[1],\n  };\n  result[result.length - 1].type = 'tag-end';\n  return result;\n}\n\nfunction flattenTokens(tokens) {\n  return tokens.reduce((prev, token) => {\n    if (token.type === 'tag') prev.push.apply(prev, flattenTagToken(token));\n    else prev.push(token);\n    return prev;\n  }, []);\n}\n\n// Respond to message from parent thread\nself.addEventListener('message', event => {\n  const { code } = event.data;\n  try {\n    let tokens = Prism.tokenize(code, Prism.languages.jsx);\n    const env = {\n      code,\n      grammar: Prism.languages.jsx,\n      language: 'jsx',\n      tokens,\n    };\n    Prism.hooks.run('after-tokenize', env);\n    tokens = flattenTokens(tokens);\n\n    const classifications = [];\n    let pos = 0;\n    const lines = code.split('\\n').map(line => line.length);\n    tokens.forEach(token => {\n      if (typeof token === 'string') {\n        if (token === 'console') {\n          token = {\n            content: 'console',\n            type: 'globals',\n            length: 7,\n          };\n        } else {\n          pos += token.length;\n          return;\n        }\n      }\n\n      const { offset: startOffset, line: startLine } = getLineNumberAndOffset(pos, lines);\n      const { offset: endOffset, line: endLine } = getLineNumberAndOffset(pos + token.length, lines);\n      let kind = token.type;\n      if (kind === 'keyword') kind = `${token.content}-keyword`;\n      if (token.content === 'constructor' && token.type === 'function') kind = 'constructor-keyword';\n      if (token.content === '=>') kind = 'arrow-operator';\n      classifications.push({\n        start: pos + 1 - startOffset,\n        end: pos + 1 + token.length - endOffset,\n        kind,\n        startLine,\n        endLine,\n      });\n      pos += token.length;\n    });\n    self.postMessage({ classifications });\n  } catch (e) {\n    /* Ignore error */\n    console.log('exp:', e);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/features/editor/workers/syntaxHighlighter.js"],"sourceRoot":""}