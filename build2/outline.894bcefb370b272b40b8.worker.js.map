{"version":3,"sources":["../outline.894bcefb370b272b40b8.worker.js","../webpack/bootstrap 894bcefb370b272b40b8","features/editor/workers/outline.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","getScopeNodes","scope","contextKey","arr","body","forEach","node","declaration","test","type","push","getClassNode","key","label","id","declarations","properties","startLine","loc","start","line","classNode","children","self","importScripts","addEventListener","event","code","data","ast","babylon","parse","sourceType","plugins","root","program","postMessage","e"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAI,EAAAJ,EACAK,GAAA,EACAH,WAUA,OANAJ,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,GAAA,EAGAF,EAAAD,QAvBA,GAAAD,KA4BAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,SAAAP,EAAAQ,EAAAC,GACAZ,EAAAa,EAAAV,EAAAQ,IACAG,OAAAC,eAAAZ,EAAAQ,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAZ,EAAAmB,EAAA,SAAAf,GACA,GAAAQ,GAAAR,KAAAgB,WACA,WAA2B,MAAAhB,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAJ,GAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAGtDtB,EAAAyB,EAAA,IAGAzB,IAAA0B,EAAA,KDMM,SAAUtB,EAAQD,GE/DxB,QAASwB,GAAcC,EAAOC,GAC5BA,EAAaA,GAAc,EAC3B,IAAMC,KA2CN,OA1CAF,GAAMG,KAAKC,QAAQ,SAAAC,GAOjB,GALEA,EAAKC,aACL,+DAA+DC,KAAKF,EAAKC,YAAYE,QAErFH,EAAOA,EAAKC,aAEI,qBAAdD,EAAKG,KAEP,WADAN,GAAIO,KAAKC,EAAaL,GAIxB,IAAIM,UAAKC,QAUT,IATI,gCAAgCL,KAAKF,EAAKG,QAC5CG,EAASV,EAAT,IAAuBI,EAAKM,IAAI5B,KAChC6B,EAAQP,EAAKM,IAAI5B,MAGf,0BAA0BwB,KAAKF,EAAKG,QACtCG,EAASV,EAAT,IAAuBI,EAAKQ,GAAG9B,KAC/B6B,EAAQP,EAAKQ,GAAG9B,MAEd,0BAA0BwB,KAAKF,EAAKG,MAAO,CAC7C,GAAMF,GAAcD,EAAKS,aAAa,GAClC/B,QAEFA,GAD0B,kBAAxBuB,EAAYO,GAAGL,KACVF,EAAYO,GAAGE,WAAW,GAAGJ,IAAI5B,KAEjCuB,EAAYO,GAAG9B,KAExB4B,EAASV,EAAT,IAAuBlB,EACvB6B,EAAQ7B,EAEN4B,GAAOC,GACTV,EAAIO,MACFE,MACAC,QACAI,UAAWX,EAAKY,IAAIC,MAAMC,KAC1BX,KAAMH,EAAKG,SAIVN,EAET,QAASQ,GAAaU,GAQpB,OANET,IAAKS,EAAUP,GAAG9B,KAClB6B,MAAOQ,EAAUP,GAAG9B,KACpByB,KAAMY,EAAUZ,KAChBQ,UAAWI,EAAUH,IAAIC,MAAMC,KAC/BE,SAAUtB,EAAcqB,EAAUjB,KAAMiB,EAAUP,GAAG9B,OAvDzDuC,KAAKC,eAAe,4BA6DpBD,KAAKE,iBAAiB,UAAW,SAAAC,GAAS,GAChCC,GAASD,EAAME,KAAfD,IACR,KACE,GAAME,GAAMC,QAAQC,MAAMJ,GAExBK,WAAY,SACZC,SACE,MACA,OACA,gBACA,mBACA,aACA,kBACA,mBACA,kBACA,eACA,eACA,mBAIEC,GACJtB,IAAK,OACLC,MAAO,OACPS,SAAUtB,EAAc6B,EAAIM,SAE9BZ,MAAKa,aAAcF,SACnB,MAAOG","file":"outline.894bcefb370b272b40b8.worker.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n/* eslint no-restricted-globals: 0, prefer-spread: 0, no-continue: 0, no-use-before-define: 0 *//* global self, babylon */self.importScripts(['/static/libs/babylon.js']);function getScopeNodes(scope,contextKey){contextKey=contextKey||'';var arr=[];scope.body.forEach(function(node){if(node.declaration&&/^(ClassDeclaration|FunctionDeclaration|VariableDeclaration)$/.test(node.declaration.type)){node=node.declaration;}if(node.type==='ClassDeclaration'){arr.push(getClassNode(node));return;}var key=void 0,label=void 0;// eslint-disable-line\nif(/^(ClassProperty|ClassMethod)$/.test(node.type)){key=contextKey+'-'+node.key.name;label=node.key.name;}if(/^(FunctionDeclaration)$/.test(node.type)){key=contextKey+'-'+node.id.name;label=node.id.name;}if(/^(VariableDeclaration)$/.test(node.type)){var declaration=node.declarations[0];var name=void 0;if(declaration.id.type==='ObjectPattern'){name=declaration.id.properties[0].key.name;}else{name=declaration.id.name;}key=contextKey+'-'+name;label=name;}if(key&&label){arr.push({key:key,label:label,startLine:node.loc.start.line,type:node.type});}});return arr;}function getClassNode(classNode){var treeNode={key:classNode.id.name,label:classNode.id.name,type:classNode.type,startLine:classNode.loc.start.line,children:getScopeNodes(classNode.body,classNode.id.name)};return treeNode;}// Respond to message from parent thread\nself.addEventListener('message',function(event){var code=event.data.code;try{var ast=babylon.parse(code,{// parse in strict mode and allow module declarations\nsourceType:'module',plugins:['jsx','flow','doExpressions','objectRestSpread','decorators','classProperties','exportExtensions','asyncGenerators','functionBind','functionSent','dynamicImport']});var root={key:'root',label:'Root',children:getScopeNodes(ast.program)};self.postMessage({root:root});}catch(e){// console.log('failed to parse ast: ', e);\n/* Ignore error */}});\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// outline.894bcefb370b272b40b8.worker.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 894bcefb370b272b40b8","/* eslint no-restricted-globals: 0, prefer-spread: 0, no-continue: 0, no-use-before-define: 0 */\n/* global self, babylon */\nself.importScripts(['/static/libs/babylon.js']);\n\nfunction getScopeNodes(scope, contextKey) {\n  contextKey = contextKey || '';\n  const arr = [];\n  scope.body.forEach(node => {\n    if (\n      node.declaration &&\n      /^(ClassDeclaration|FunctionDeclaration|VariableDeclaration)$/.test(node.declaration.type)\n    ) {\n      node = node.declaration;\n    }\n    if (node.type === 'ClassDeclaration') {\n      arr.push(getClassNode(node));\n      return;\n    }\n\n    let key, label; // eslint-disable-line\n    if (/^(ClassProperty|ClassMethod)$/.test(node.type)) {\n      key = `${contextKey}-${node.key.name}`;\n      label = node.key.name;\n    }\n\n    if (/^(FunctionDeclaration)$/.test(node.type)) {\n      key = `${contextKey}-${node.id.name}`;\n      label = node.id.name;\n    }\n    if (/^(VariableDeclaration)$/.test(node.type)) {\n      const declaration = node.declarations[0];\n      let name;\n      if (declaration.id.type === 'ObjectPattern') {\n        name = declaration.id.properties[0].key.name;\n      } else {\n        name = declaration.id.name;\n      }\n      key = `${contextKey}-${name}`;\n      label = name;\n    }\n    if (key && label) {\n      arr.push({\n        key,\n        label,\n        startLine: node.loc.start.line,\n        type: node.type,\n      });\n    }\n  });\n  return arr;\n}\nfunction getClassNode(classNode) {\n  const treeNode = {\n    key: classNode.id.name,\n    label: classNode.id.name,\n    type: classNode.type,\n    startLine: classNode.loc.start.line,\n    children: getScopeNodes(classNode.body, classNode.id.name),\n  };\n  return treeNode;\n}\n\n// Respond to message from parent thread\nself.addEventListener('message', event => {\n  const { code } = event.data;\n  try {\n    const ast = babylon.parse(code, {\n      // parse in strict mode and allow module declarations\n      sourceType: 'module',\n      plugins: [\n        'jsx',\n        'flow',\n        'doExpressions',\n        'objectRestSpread',\n        'decorators',\n        'classProperties',\n        'exportExtensions',\n        'asyncGenerators',\n        'functionBind',\n        'functionSent',\n        'dynamicImport',\n      ],\n    });\n\n    const root = {\n      key: 'root',\n      label: 'Root',\n      children: getScopeNodes(ast.program),\n    };\n    self.postMessage({ root });\n  } catch (e) {\n    // console.log('failed to parse ast: ', e);\n    /* Ignore error */\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/features/editor/workers/outline.js"],"sourceRoot":""}